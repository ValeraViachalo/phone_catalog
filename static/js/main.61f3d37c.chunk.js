(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],Array(40).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,,,,,,,,function(e,t,c){},,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(22),i=c.n(a),n=c(5);function r(e,t){const[c,a]=Object(s.useState)((()=>{const c=localStorage.getItem(e);if(null===c)return t;try{return JSON.parse(c)}catch(s){return localStorage.removeItem(e),t}}));return[c,t=>{localStorage.setItem(e,JSON.stringify(t)),a(t)}]}var o=c(1);const l=Object(s.createContext)({cart:[],addToCart:()=>{},removeFromCart:()=>{},cartAmount:()=>{}}),d=e=>{let{children:t}=e;const[c,s]=r("cart",[]);return Object(o.jsx)(l.Provider,{value:{cart:c,addToCart:e=>{s([...c,e])},removeFromCart:e=>{s([...c.filter((t=>t.product.itemId!==e))])},cartAmount:(e,t)=>{const a=c.map((c=>{if(e===c.id)switch(t){case"increase":return{...c,quantity:c.quantity+1};case"decrease":return{...c,quantity:c.quantity-1};default:return c}return c}));s(a)}},children:t})},j=Object(s.createContext)({favorites:[],addToFavorite:()=>{},removeFromFavorite:()=>{}}),u=e=>{let{children:t}=e;const[c,s]=r("favorites",[]);return Object(o.jsx)(j.Provider,{value:{favorites:c,addToFavorite:e=>{s([...c,e])},removeFromFavorite:e=>{s([...c.filter((t=>t.phoneId!==e))])}},children:t})};var b=c(4),m=c(101),h=(c(40),c(41),c.p+"static/media/LOGO.13ce922e.svg"),p=c.p+"static/media/LOGO-white.11c5e1b3.svg";const O=Object(s.createContext)(void 0),x=e=>{let{children:t}=e;const[c,a]=Object(s.useState)((()=>localStorage.getItem("theme")||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));Object(s.useEffect)((()=>{const e=document.querySelector(".app");e&&(e.classList.remove("light","dark"),e.classList.add(c)),window.localStorage.setItem("theme",c)}),[c]);return Object(o.jsx)(O.Provider,{value:{theme:c,toggleTheme:()=>{a((e=>{const t="light"===e?"dark":"light";return localStorage.setItem("theme",t),t}))}},children:t})},_=()=>Object(s.useContext)(O),v=()=>{const e=_();return Object(o.jsx)(n.b,{to:"/",className:"Logo",children:Object(o.jsx)("img",{src:(()=>{switch((()=>{if(e){const{theme:t}=e;return t}return"light"})()){case"light":return h;case"dark":return p;default:throw new Error}})(),alt:"Logo",className:"Logo--image"})})};var g=c(6),N=c.n(g);c(42);const y=e=>{let{type:t,children:c,...s}=e;return Object(o.jsx)(n.c,{className:e=>{let{isActive:c}=e;return N()("navigation-link",{["navigation-link--".concat(t)]:t},{"is-active":c})},...s,children:c})};c(43);const f=["home","phones","tablets","accessories"],w=()=>Object(o.jsx)("nav",{className:"Navigation",children:Object(o.jsx)("ul",{className:"Navigation__list",children:f.map((e=>Object(o.jsx)("li",{className:"Navigation__item",children:Object(o.jsx)(y,{type:"text",to:"home"===e?"/":e.toString(),children:e})},e)))})});c(44);const k=["phones","tablets","accessories","favourites"],C=(e,t)=>{const c=new URLSearchParams(e.toString());return Object.entries(t).forEach((e=>{let[t,s]=e;null===s?c.delete(t):Array.isArray(s)?(c.delete(t),s.forEach((e=>{c.append(t,e)}))):c.set(t,s)})),c.toString()},S=()=>{const[e,t]=Object(n.d)(),c=e.get("query")||"",[a,i]=Object(s.useState)(c),r=Object(b.n)(),l=Object(s.useMemo)((()=>r.pathname.split("/")[1]),[r]);Object(s.useEffect)((()=>{i(c)}),[l]);const d=Object(s.useMemo)((()=>(e=>{const t=e.pathname.split("/");return!(t.length>2)&&k.some((e=>t.includes(e)))})(r)),[l]),j=Object(s.useCallback)(((e,t)=>{let c=0;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];window.clearTimeout(c),c=window.setTimeout((()=>{e(...a)}),t)}})(t,600),[l]);return Object(o.jsxs)("div",{className:N()("Search",{isVisible:d}),children:[Object(o.jsx)("input",{type:"text","aria-label":"search",value:a,onChange:t=>{const{value:c}=t.target;i(c);const s={query:c.trim()||null};j(C(e,s))},placeholder:"Search in ".concat(l,"..."),className:N()("Search--input",{"has-icon":!a})}),Object(o.jsx)("button",{type:"button","data-cy":"searchDelete","aria-label":"clear-search",onClick:()=>{i(""),t(C(e,{query:null}))},className:N()("Search--clear-button",{isActive:!!a})})]})};c(45);var T=c(100);c(46);const A=["home","phones","tablets","accessories"],I=["favorites","cart"],P=()=>{const e=document.body.classList,[t,c]=Object(s.useState)(!1),[a,i]=Object(s.useState)(!1),r=_(),d=()=>{c(!1),e.remove("app-with-menu")},{cart:u}=Object(s.useContext)(l),{favorites:b}=Object(s.useContext)(j),m={favorites:b,cart:u};return Object(o.jsxs)("div",{className:"menu",children:[Object(o.jsx)("button",{type:"button",className:"menu__open",onClick:()=>{c(!0),e.add("app-with-menu")}}),Object(o.jsxs)("div",{className:N()("menu__content",{isActive:t}),children:[Object(o.jsx)("div",{className:"menu__content--top",children:Object(o.jsx)("button",{type:"button",className:"menu__close",onClick:d})}),Object(o.jsxs)("ul",{className:"menu__list",children:[A.map((e=>Object(o.jsx)("li",{className:"menu__item",children:Object(o.jsx)(n.c,{to:e,onClick:d,className:e=>{let{isActive:t}=e;return N()("menu__item--link",{"menu__item--link-active":t})},children:e})},e))),I.map((e=>Object(o.jsx)("li",{className:" menu__item menu__item-action",children:Object(o.jsxs)(n.c,{to:e,onClick:d,className:e=>{let{isActive:t}=e;return N()("menu__item--link",{"menu__item--link-active":t})},children:[e,m[e].length>0&&Object(o.jsx)("div",{className:"menu__item-action-length",children:m[e].length})]})},e))),Object(o.jsxs)("div",{className:"menu__switch_theme",children:[Object(o.jsx)("button",{type:"button",className:"menu__switch","data-isOn":a,onClick:()=>{i(!a),(()=>{if(r){const{toggleTheme:e}=r;return e()}})()},"aria-label":"switch",children:Object(o.jsx)(T.a.div,{className:"menu__switch_handle",layout:!0,transition:{type:"spring",stiffness:700,damping:30}})}),Object(o.jsx)("span",{className:"menu__switch_theme_title",children:"".concat((()=>{if(r){const{theme:e}=r;return e}return"light"})()," mode")})]})]})]})]})};var E=c.p+"static/media/icon-cart-white.42f0d4d7.svg",F=c.p+"static/media/icon-favourites-white.2b9e1668.svg";c(47);const L=e=>{let{type:t}=e;const c={favorites:F,cart:E},{cart:a}=Object(s.useContext)(l),{favorites:i}=Object(s.useContext)(j),n={favorites:i,cart:a};return Object(o.jsxs)("div",{className:"icon-links",children:[Object(o.jsx)("img",{src:c[t],alt:t,className:"icon-links__image"}),n[t].length>0&&Object(o.jsx)("div",{className:"icon-links--active",children:n[t].length})]})};c(48);var q=c.p+"static/media/icon-sun.a6529ac8.svg",M=c.p+"static/media/icon-moon.9594b309.svg";const B=["favorites","cart"],R=()=>{const e=_();return Object(o.jsxs)("div",{className:"Actions",children:[Object(o.jsx)("button",{type:"button","aria-label":"Toggle Dark Mode",className:"navigation-link navigation-switch",onClick:()=>{if(e){const{toggleTheme:t}=e;return t()}return null},children:Object(o.jsx)("img",{className:"navigation-switch__image",alt:"mode",src:"dark"===(()=>{if(e){const{theme:t}=e;return t}return"light"})()?M:q})}),B.map((e=>Object(o.jsx)(y,{to:e,type:"icon","aria-label":e,children:Object(o.jsx)(L,{type:e})},e)))]})},D=()=>Object(o.jsxs)("header",{className:"header",children:[Object(o.jsxs)("div",{className:"header__navigation",children:[Object(o.jsx)(v,{}),Object(o.jsx)(w,{})]}),Object(o.jsx)(S,{}),Object(o.jsx)(R,{}),Object(o.jsx)(P,{})]}),V="https://mate-academy.github.io/react_phone-catalog/_new/products.json",$=e=>fetch(e).then((e=>{var t;if(!e.ok)throw Error();if(null===(t=e.headers.get("content-type"))||void 0===t||!t.includes("application/json"))throw new Error;return e.json()})),U=async()=>await $(V);c(49);var H=c(32),J=c.p+"static/media/banner-iphone.f55b0c7f.png",z=c.p+"static/media/banner-ipad.8e508296.png",G=c.p+"static/media/banner-accessories.647d1019.png";c(59);const X=[{name:"phones",photo:J},{name:"tablets",photo:z},{name:"accessories",photo:G}],Y=()=>Object(o.jsx)(H.Carousel,{autoPlay:!0,showArrows:!0,emulateTouch:!0,infiniteLoop:!0,showStatus:!1,showThumbs:!1,className:"banner",children:X.map((e=>Object(o.jsx)("div",{className:"banner__slide",children:Object(o.jsx)("img",{src:e.photo,alt:e.name,className:"banner__slide--image"})},e.name)))});var Z=c(25),K=c(18);c(60),c(61),c(62),c(63),c(64),c(65);const Q=e=>{let{product:t}=e;const{cart:c,addToCart:a,removeFromCart:i}=Object(s.useContext)(l),n=c.find((e=>e.product.phoneId===t.phoneId));return Object(o.jsx)("button",{type:"button",onClick:()=>{if(n)i(t.phoneId);else{const e={id:t.phoneId,quantity:1,product:t};a(e)}},className:N()("button-cart",{"button-cart--added":n}),children:n?"Added to cart":"Add to cart"})};c(66);const W=e=>{let{product:t}=e;const{favorites:c,addToFavorite:a,removeFromFavorite:i}=Object(s.useContext)(j),n=c.find((e=>{let{phoneId:c}=e;return c===t.phoneId}));return Object(o.jsx)("button",{type:"button",onClick:()=>{n?i(t.phoneId):a(t)},className:N()("button-favorites",{"button-favorites-active":n})})},ee="https://mate-academy.github.io/react_phone-catalog/_new/",te=()=>{window.scrollTo({top:0,behavior:"smooth"})},ce=e=>{let{product:t}=e;const{screen:c,capacity:s,ram:a,price:i,fullPrice:r,name:l,category:d,phoneId:j,image:u}=t;return Object(o.jsxs)("div",{className:"product-card",children:[Object(o.jsxs)(n.b,{className:"product-card__link",to:"/".concat(d,"/").concat(j),onClick:te,children:[Object(o.jsx)("img",{src:"".concat(ee).concat(u),alt:l,className:"product-card--image"}),Object(o.jsx)("p",{className:"product-card__title",children:l}),Object(o.jsx)("div",{className:"product-card__price",children:i===r?Object(o.jsx)("h2",{className:"product-card__price-regular",children:"$".concat(r)}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{className:"product-card__price-regular",children:"$".concat(i)}),Object(o.jsx)("h2",{className:"product-card__price-discount",children:"$".concat(r)})]})}),Object(o.jsxs)("div",{className:"product-card__properties",children:[Object(o.jsxs)("div",{className:"product-card__property",children:[Object(o.jsx)("p",{className:"product-card__property--title",children:"Screen"}),Object(o.jsx)("p",{className:"product-card__property--value",children:c})]}),Object(o.jsxs)("div",{className:"product-card__property",children:[Object(o.jsx)("p",{className:"product-card__property--title",children:"Capacity"}),Object(o.jsx)("p",{className:"product-card__property--value",children:s})]}),Object(o.jsxs)("div",{className:"product-card__property",children:[Object(o.jsx)("p",{className:"product-card__property--title",children:"Ram"}),Object(o.jsx)("p",{className:"product-card__property--value",children:a})]})]})]}),Object(o.jsxs)("div",{className:"product-card__buttons",children:[Object(o.jsx)("div",{className:"product-card__buttons--cart",children:Object(o.jsx)(Q,{product:t})}),Object(o.jsx)("div",{className:"product-card__buttons--favorites",children:Object(o.jsx)(W,{product:t})})]})]})},se=e=>{let{title:t,products:c}=e;const s=c.slice(0,21);return Object(o.jsxs)(Z.a,{navigation:!0,modules:[K.a],className:"product-slider",breakpoints:{320:{width:260,slidesPerView:1,spaceBetween:20},426:{width:520,slidesPerView:2,spaceBetween:20},900:{width:800,slidesPerView:3,spaceBetween:10},1200:{width:1146,slidesPerView:4,spaceBetween:16}},children:[Object(o.jsx)("div",{className:"product-slider__header",children:Object(o.jsx)("h1",{className:"container--title",children:t})}),s.map((e=>Object(o.jsx)(Z.b,{className:"product-slider-item",children:Object(o.jsx)(ce,{product:e})},e.id)))]})};var ae=c(102);c(67);const ie=()=>{const e=_();return Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)(ae.a,{size:65,speed:1.8,color:"dark"===(()=>{if(e){const{theme:t}=e;return t}return"light"})()?"white":"black"})})};c(68);let ne=function(e){return e.HotPrice="Hot prices",e.NewBrand="Brand new models",e.RandomProducts="You may also like",e}({});c(69);var re=c.p+"static/media/Phones.8478b80a.png",oe=c.p+"static/media/Tablets.ed3dd9df.png",le=c.p+"static/media/Accessories.b914f412.png";const de=["phones","tablets","accessories"],je=e=>{let{products:t}=e;const c=e=>{const c=t.filter((t=>t.category===e)).length;return c?"".concat(c," ").concat(c>=1?"models":"model"):"There are no products in this category yet"},s=e=>{switch(e){case"phones":return re;case"tablets":return oe;case"accessories":return le;default:return""}},a=e=>"phones"===e?a("mobile phones"):e[0].toUpperCase()+e.slice(1);return Object(o.jsxs)("div",{className:"categories",children:[Object(o.jsx)("h1",{className:"categories--title",children:"Shop by category"}),Object(o.jsx)("div",{className:"categories__content",children:de.map((e=>Object(o.jsxs)(n.b,{className:"categories__category",to:"/".concat(e),children:[Object(o.jsx)("img",{src:s(e),alt:" ".concat(e," category"),className:"categories__category--image"}),Object(o.jsxs)("div",{className:"categories__description",children:[Object(o.jsx)("h3",{className:"categories__description--title",children:a(e)}),Object(o.jsx)("p",{className:"categories__description--subtitle",children:c(e)})]})]},e)))})]})},ue={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,delay:.2}},be=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)([]),[i,n]=Object(s.useState)([]),[r,l]=Object(s.useState)(""),d=async()=>{try{const e=await(async()=>(await $(V)).sort(((e,t)=>t.fullPrice-t.price-(e.fullPrice-e.price))))();a(e)}catch{l("Unable to load a hot products")}},j=async()=>{try{const e=await(async()=>(await $(V)).sort(((e,t)=>t.price-e.price)))();n(e)}catch{l("Unable to load a brand new products")}};return Object(s.useEffect)((()=>{d(),(async()=>{try{const e=await U();t(e)}catch{l("Unable to load a products")}})(),j()}),[]),Object(o.jsxs)(T.a.div,{className:"home-page",...ue,children:[Object(o.jsx)(Y,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"home-page__hot-products",children:!r&&c?Object(o.jsx)(se,{title:ne.HotPrice,products:c}):Object(o.jsx)(ie,{})})}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(je,{products:e})}),Object(o.jsx)("div",{className:"container",children:!r&&i?Object(o.jsx)(se,{title:ne.NewBrand,products:i}):Object(o.jsx)(ie,{})})]})};c(70);const me=()=>Object(o.jsxs)("button",{className:"button-to-up",type:"button",onClick:te,children:["Back to top",Object(o.jsx)("div",{className:"button-to-up--arrow"})]});c(71);const he={github:"https://github.com/ValeraViachalo",contacts:"https://www.instagram.com/hiwrldp/",rights:"https://github.com/mate-academy/react_phone-catalog"},pe=()=>Object(o.jsx)("footer",{className:"footer",children:Object(o.jsxs)("div",{className:" container container-footer footer-content",children:[Object(o.jsx)(v,{}),Object(o.jsx)("nav",{className:"footer__nav",children:Object(o.jsx)("ul",{className:"footer__list",children:Object.entries(he).map((e=>{let[t,c]=e;return Object(o.jsx)("li",{className:"footer--item",children:Object(o.jsx)("a",{href:c,target:"_blank",className:"footer--item-link",children:t})},t)}))})}),Object(o.jsx)(me,{})]})});let Oe=function(e){return e.Phone="phones",e.Tablet="tablets",e.Accessory="accessories",e}({});c(72);const xe=()=>{const e=Object(b.n)(),{pathname:t}=e,c=t.split("/").filter((e=>""!==e)),s=c.map(((e,t)=>({label:e,link:"/".concat(c.slice(0,t+1).join("/"))})));return Object(o.jsxs)("nav",{className:"history-location",children:[Object(o.jsx)(n.b,{to:"/",className:"history-location--home-link"}),Object(o.jsx)("ul",{className:"history-location__list",children:s.map(((e,t)=>{const c=(e=>e.split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join(" "))(e.label);return Object(o.jsxs)("li",{className:"history-location--item",children:[Object(o.jsx)("div",{className:"history-location--arrow-right"}),Object(o.jsx)(n.b,{to:e.link,className:N()("history-location--location",{"history-location--location-active":t===s.length-1}),children:c})]},e.label)}))})]})},_e=e=>{let{category:t}=e;const c=t[0].toUpperCase()+t.slice(1);return Object(o.jsx)("h1",{className:"title",children:"".concat(c," not found")})};var ve=c(34);c(73);const ge=(e,t)=>{const c=t.toLowerCase();return e.filter((e=>"".concat(e.name.toLowerCase()," ").concat(e.screen.toLowerCase()," ").concat(e.ram.toLowerCase()," ").concat(String(e.price).toLowerCase()).includes(c)))};let Ne=function(e){return e.Newest="Newest",e.Alphabetically="Alphabetically",e.Cheapest="Cheapest",e}({});const ye=[{label:"Newest",value:"Newest"},{label:"Alphabetically",value:"Alphabetically"},{label:"Cheapest",value:"Cheapest"}],fe=[{label:"All",value:"All"},{label:"Four",value:"4"},{label:"Eight",value:"8"},{label:"Sixteen",value:"16"}];c(74);const we=e=>{let{options:t,startValue:c,searchName:a,label:i}=e;const[r,l]=Object(s.useState)(!1),[d,j]=Object(s.useState)(c),[u]=Object(n.d)();Object(s.useEffect)((()=>{const e=u.get(a);e&&t.find((t=>t.value===e))?j(e):j(c)}),[t,a,c,u]);return Object(o.jsxs)("div",{className:N()("drop-down",{"drop-down-open":r}),children:[Object(o.jsx)("label",{htmlFor:"title",className:"drop-down--title",children:i}),Object(o.jsxs)(T.a.button,{type:"button",className:"drop-down__top",onClick:()=>{l(!r),u.set("page","1")},children:[Object(o.jsx)("span",{className:"drop-down--current",children:d}),Object(o.jsx)("div",{className:"drop-down--icon"})]}),Object(o.jsx)(T.a.ul,{initial:"exit",animate:r?"enter":"exit",variants:{enter:{opacity:1,rotateX:0,transition:{duration:.3},display:"block"},exit:{opacity:0,rotateX:-15,transition:{duration:.2},transitionEnd:{display:"none"}}},className:N()("drop-down__content",{"drop-down--is-active":!r}),children:t.map((e=>Object(o.jsx)("li",{children:Object(o.jsx)(n.b,{className:"drop-down--item",to:{search:C(u,{[a]:e.value})},onClick:()=>{return t=e.value,j(t),void l(!1);var t},children:e.value})},e.label)))})]})};c(75);const ke=e=>{let{totalItems:t,currentPage:c,perPageLength:s}=e;const[a]=Object(n.d)(),i=Math.ceil(t/s),r=1===c,l=c===i;let d=Math.max(1,c-2);const j=Math.min(d+4,i);j-d<4&&(d=Math.max(1,j-4));const u=function(e,t){const c=[];for(let s=e;s<=t;s+=1)c.push(s);return c}(d,j);return Object(o.jsxs)("div",{className:"pagination",children:[Object(o.jsx)(n.b,{"aria-disabled":r,className:N()("pagination--button","pagination--button-left",{"pagination--button-disabled":r}),to:{search:C(a,{page:(c-1).toString()})},onClick:te}),Object(o.jsxs)("ul",{className:"pagination__list",children:[d>1&&Object(o.jsx)("li",{className:"pagination--item",children:Object(o.jsx)(n.b,{className:"pagination--link",onClick:te,to:{search:C(a,{page:"1"})},children:"1"})}),d>2&&Object(o.jsx)("li",{className:"pagination--item",children:Object(o.jsx)("span",{className:"pagination--break",children:"..."})}),u.map((e=>Object(o.jsx)("li",{className:N()("pagination--item",{"pagination--item-active":c===e}),children:Object(o.jsx)(n.b,{onClick:te,className:N()("pagination--link",{"pagination--link-active":c===e}),to:{search:C(a,{page:e.toString()})},children:e})},e))),j<i-1&&Object(o.jsx)("li",{className:"pagination--item",children:Object(o.jsx)("span",{className:"pagination__break",children:"..."})}),j<i&&Object(o.jsx)("li",{className:"pagination--item",children:Object(o.jsx)(n.b,{onClick:te,className:"pagination--link",to:{search:C(a,{page:i.toString()})},children:i})})]}),Object(o.jsx)(n.b,{"data-cy":"paginationRight",onClick:te,"aria-disabled":l,className:N()("pagination--button","pagination--button-right",{"pagination--button-disabled":l}),to:{search:C(a,{page:(c+1).toString()})}})]})},Ce=e=>{let{products:t}=e;const[c]=Object(n.d)(),a=Number(c.get("page"))||1;let i=Number(c.get("perPage"))||16;"All"===c.get("perPage")&&(i=t.length);const r=a*i-i,l=Math.min(a*i,t.length),d=c.get("sortBy"),j=c.get("query")||"",[u,b]=Object(s.useState)(j),m=Object(s.useMemo)((()=>ge(t,u)),[t,u]),h=Object(s.useMemo)((()=>((e,t)=>{const c=[...e];return t&&c.sort(((e,c)=>{switch(t){case Ne.Newest:return c.year-e.year;case Ne.Alphabetically:return e.name.localeCompare(c.name);case Ne.Cheapest:return e.price-c.price;default:throw new Error("Sort type error")}})),c})(m,d)),[m,d]),p=h.slice(r,l);return Object(s.useEffect)((()=>{const e=setTimeout((()=>{b(j)}),500);return c.get("page=1")||c.set("page","1"),()=>clearTimeout(e)}),[j]),Object(o.jsxs)("div",{className:"product-list",children:[Object(o.jsx)("p",{className:"product-list--quantity",children:"".concat(h.length," models")}),h.length?Object(o.jsxs)("div",{className:"product-list__dropdowns",children:[Object(o.jsx)("div",{className:"product-list__dropdowns--item",children:Object(o.jsx)(we,{label:"Sort by",startValue:"Choose option",searchName:"sortBy",options:ye})}),Object(o.jsx)("div",{className:"product-list__dropdowns--item",children:Object(o.jsx)(we,{label:"Items on page",startValue:"16",searchName:"perPage",options:fe})})]}):Object(o.jsx)("h1",{className:"no-results",children:"There are no products matching the current search criteria"}),Object(o.jsx)("ul",{className:"product-list__list",children:Object(o.jsx)(ve.a,{duration:200,triggerOnce:!0,children:p.map((e=>Object(o.jsx)("li",{className:"product-list--item",children:Object(o.jsx)(ce,{product:e})},e.id)))})}),i<h.length&&m.length>0&&Object(o.jsx)("div",{className:"product-list__pagination",children:Object(o.jsx)(ke,{currentPage:a,perPageLength:i,totalItems:h.length})})]})};c(79);const Se=e=>{let{isLoading:t,isError:c,products:s,category:a,title:i}=e;return Object(o.jsxs)("section",{className:"products-page",children:[Object(o.jsx)("nav",{className:"products-page__nav",children:Object(o.jsx)(xe,{})}),Object(o.jsx)("div",{className:"products-page__content",children:t&&!c?Object(o.jsx)(ie,{}):Object(o.jsx)(o.Fragment,{children:s.length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"products-page--title",children:i}),!t&&!c&&Object(o.jsx)(Ce,{products:s})]}):Object(o.jsx)(_e,{category:a})})})]})};c(80);const Te=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)(!1),[i,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{a(!0);try{const e=(await U()).filter((e=>e.category===Oe.Phone));t(e)}catch{n(!0)}finally{a(!1)}})()}),[]),Object(o.jsx)(T.a.section,{className:"phones",...ue,children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(Se,{title:"Mobile phones",isError:i,isLoading:c,products:e,category:Oe.Phone})})})};c(81);const Ae=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)(!1),[i,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{a(!0);try{const e=(await U()).filter((e=>e.category===Oe.Tablet));t(e)}catch{n(!0)}finally{a(!1)}})()}),[]),Object(o.jsx)(T.a.section,{className:"tablets",...ue,children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(Se,{title:"Tablets",isError:i,isLoading:c,products:e,category:Oe.Tablet})})})};c(82);const Ie=()=>{const[e,t]=Object(s.useState)([]),[c,a]=Object(s.useState)(!1),[i,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{a(!0);try{const e=(await U()).filter((e=>e.category===Oe.Accessory));t(e)}catch{n(!0)}finally{a(!1)}})()}),[]),Object(o.jsx)(T.a.section,{className:"Accessories",...ue,children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(Se,{title:"Accessories",isError:i,isLoading:c,products:e,category:Oe.Accessory})})})};c(83),c(84);const Pe=e=>{let{photos:t,mainPhoto:c,photoClick:s}=e;return Object(o.jsxs)("div",{className:"galery",children:[Object(o.jsx)("ul",{className:"galery__list",children:t.map((e=>Object(o.jsx)("button",{type:"button",onClick:()=>s(e),className:N()("galery__photo",{"galery__photo-active":c===e}),children:Object(o.jsx)("div",{className:"galery__photo-container",children:Object(o.jsx)("img",{className:"galery__photo--item",src:"".concat(ee).concat(e),alt:"product"})})},e)))}),Object(o.jsx)(m.a,{exitBeforeEnter:!0,children:Object(o.jsx)(T.a.div,{className:"galery__main",initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.2},children:Object(o.jsx)("img",{className:"galery__main--image",alt:"product main",src:"".concat(ee).concat(c)})},c)})]})};c(85);const Ee=(e,t,c)=>{const s=null===e||void 0===e?void 0:e.namespaceId,a=null===e||void 0===e?void 0:e.capacity,i=null===e||void 0===e?void 0:e.color;return t&&!c?"".concat(s,"-").concat(a,"-").concat(t).toLowerCase():!t&&c?"".concat(s,"-").concat(c,"-").concat(i).toLowerCase():"".concat(s,"-").concat(a,"-").concat(i)},Fe=e=>{switch(e){case"midnightgreen":return"#5f7170";case"spacegray":return"#4c4c4c";case"gold":return"#fcdbc1";case"white":return"#e2e5e9";case"rosegold":return"pink";default:return e}},Le=e=>{let{colors:t,currentColor:c,productDetails:s}=e;return Object(o.jsxs)("div",{className:"color-choose",children:[Object(o.jsx)("p",{className:"color-choose--title",children:"Availeble colors"}),Object(o.jsx)("ul",{className:"color-choose__list",children:t.map((e=>{const t=c===e;return Object(o.jsx)(n.b,{to:"../".concat(Ee(s,e)),className:N()("color-choose--link",{"color-choose--link-active":t}),children:Object(o.jsx)("div",{className:"color-choose--link-rug",style:{backgroundColor:Fe(e)}})},e)}))})]})};c(86);const qe=e=>{let{capacities:t,productDetails:c}=e;return Object(o.jsxs)("div",{className:"capacity",children:[Object(o.jsx)("p",{className:"capacity--title",children:"Select capacity"}),Object(o.jsx)("ul",{className:"capacity__list",children:t.map((e=>{const t=(null===c||void 0===c?void 0:c.capacity)===e;return Object(o.jsx)(n.b,{to:"../".concat(Ee(c,void 0,e)),className:N()("capacity--link",{"capacity--link-active":t}),children:e},e)}))})]})};c(87);const Me=e=>{let{details:t}=e;return Object(o.jsxs)("section",{className:"description",children:[Object(o.jsxs)("div",{className:"description__about",children:[Object(o.jsx)("h2",{className:"description--title",children:"About"}),t.description.map((e=>{let{title:t,text:c}=e;return Object(o.jsxs)("div",{className:"description__about-content",children:[Object(o.jsx)("h3",{className:"description__about--title",children:t}),Object(o.jsx)("p",{className:"description__about--paragraph",children:c.map((e=>e))})]},t)}))]}),Object(o.jsxs)("ul",{className:"description__tech-specs",children:[Object(o.jsx)("h2",{className:"description--title",children:"Tech specs"}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Screen"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.screen})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Resolution"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.resolution})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Processor"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.processor})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"RAM"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.ram})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Built in memory"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.capacity})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Camera"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.camera})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Zoom"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.zoom})]}),Object(o.jsxs)("li",{className:"description__tech-specs--item",children:[Object(o.jsx)("div",{className:"description__tech-specs--item-title",children:"Cell"}),Object(o.jsx)("div",{className:"description__tech-specs--item-value",children:t.cell.join(", ")})]})]})]})};c(88);const Be=()=>{const[e,t]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{const e=setTimeout((()=>{t(!1)}),2e3);return()=>{clearTimeout(e)}}),[]),Object(o.jsxs)(T.a.div,{className:"page-not-found",children:[e&&Object(o.jsx)(ie,{}),!e&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"page-not-found--title",children:"It looks like you`re lost"}),Object(o.jsxs)("h1",{className:"page-not-found--subtitle",children:["So let`s just go to the",Object(o.jsx)(n.c,{to:"/",className:"page-not-found--link",children:"\xa0 Home"})]})]})]})},Re=()=>{const e=Object(b.n)(),{pathname:t}=e,c=t.split("/").filter((e=>""!==e)),a=c[c.length-1],[i,n]=Object(s.useState)(!1),[r,l]=Object(s.useState)(!1),[d,j]=Object(s.useState)(),[u,m]=Object(s.useState)([]),[h,p]=Object(s.useState)(),[O,x]=Object(s.useState)(null),_=async()=>{n(!0);try{const e=await(async e=>await $("".concat("https://mate-academy.github.io/react_phone-catalog/_new/products/").concat(e,".json")))(a);x(e),j(null===O||void 0===O?void 0:O.images[0])}catch{l(!0)}finally{n(!1)}},v=async()=>{const e=await(async e=>(await $(V)).find((t=>{let{phoneId:c}=t;return c===e})))(a);p(e)},g=async()=>{n(!0);try{const e=await(async()=>(await $(V)).sort((()=>Math.random()-.5)))();m(e)}catch{l(!0)}finally{n(!1)}};Object(s.useEffect)((()=>{null!==O&&void 0!==O&&O.images.length&&j(O.images[0])}),[O]),Object(s.useEffect)((()=>{_(),v()}),[a]),Object(s.useEffect)((()=>{g()}),[]);const N=(null===O||void 0===O?void 0:O.colorsAvailable)||[],y=(null===O||void 0===O?void 0:O.color)||"",f=(null===O||void 0===O?void 0:O.images)||[],w=d||"",k=(null===O||void 0===O?void 0:O.capacityAvailable)||[],[C,S]=Object(s.useState)(!0);return Object(s.useEffect)((()=>{const e=setTimeout((()=>{S(!1)}),150);return()=>{clearTimeout(e)}}),[]),Object(o.jsxs)(o.Fragment,{children:[C&&Object(o.jsx)(ie,{}),!C&&Object(o.jsxs)(T.a.section,{className:"product-details container",...ue,children:[Object(o.jsx)(xe,{}),!h&&Object(o.jsx)(Be,{}),!r&&i&&Object(o.jsx)(ie,{}),!r&&!i&&h&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(T.a.h1,{className:"product-details--title",initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.15},children:null===O||void 0===O?void 0:O.name}),Object(o.jsxs)(T.a.div,{className:"product-details__top-content",initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3},children:[Object(o.jsx)("div",{className:"product-details--galery",children:Object(o.jsx)(Pe,{photos:f,mainPhoto:w,photoClick:e=>{j(e)}})}),Object(o.jsxs)("div",{className:"product-details__virables",children:[Object(o.jsxs)("div",{className:"product-details__choose",children:[Object(o.jsx)("div",{className:"product-details--colors",children:Object(o.jsx)(Le,{colors:N,currentColor:y,productDetails:O})}),Object(o.jsx)("div",{className:"product-detais--capacity",children:Object(o.jsx)(qe,{capacities:k,productDetails:O})}),Object(o.jsx)("div",{className:"product-details__price",children:(null===O||void 0===O?void 0:O.priceDiscount)===(null===O||void 0===O?void 0:O.priceRegular)?Object(o.jsx)("h1",{className:" product-card__price-regular product-details__price-regular",children:"$".concat(null===O||void 0===O?void 0:O.priceRegular)}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:" product-card__price-regular product-details__price-regular",children:"$".concat(null===O||void 0===O?void 0:O.priceDiscount)}),Object(o.jsx)("h2",{className:" product-card__price-discount product-details__price-discount",children:"$".concat(null===O||void 0===O?void 0:O.priceRegular)})]})})]}),Object(o.jsxs)("div",{className:"product-details__actions",children:[Object(o.jsx)("div",{className:"product-details__actions--cart",children:Object(o.jsx)(Q,{product:h})}),Object(o.jsx)("div",{className:"product-details__actions--favorites",children:Object(o.jsx)(W,{product:h})})]}),Object(o.jsxs)("ul",{className:"product-details__info",children:[Object(o.jsxs)("li",{className:"product-details__info--item",children:[Object(o.jsx)("div",{className:"product-details__info--item-title",children:"Screen"}),Object(o.jsx)("div",{className:"product-details__info--item-value",children:null===O||void 0===O?void 0:O.screen})]}),Object(o.jsxs)("li",{className:"product-details__info--item",children:[Object(o.jsx)("div",{className:"product-details__info--item-title",children:"Resolution"}),Object(o.jsx)("div",{className:"product-details__info--item-value",children:null===O||void 0===O?void 0:O.resolution})]}),Object(o.jsxs)("li",{className:"product-details__info--item",children:[Object(o.jsx)("div",{className:"product-details__info--item-title",children:"Processor"}),Object(o.jsx)("div",{className:"product-details__info--item-value",children:null===O||void 0===O?void 0:O.processor})]}),Object(o.jsxs)("li",{className:"product-details__info--item",children:[Object(o.jsx)("div",{className:"product-details__info--item-title",children:"RAM"}),Object(o.jsx)("div",{className:"product-details__info--item-value",children:null===O||void 0===O?void 0:O.ram})]})]})]})]}),Object(o.jsx)(T.a.div,{className:"product-details__about",initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.5},children:O&&Object(o.jsx)(Me,{details:O})}),Object(o.jsx)(se,{title:ne.RandomProducts,products:u})]})]})]})};c(89);const De=()=>Object(o.jsxs)("button",{type:"button",className:"button-back",onClick:()=>window.history.back(),children:[Object(o.jsx)("div",{className:"button-back--arrow"}),"Back"]});c(90);let Ve=function(e){return e.Increase="increase",e.Decrease="decrease",e}({});const $e=e=>{let{name:t,price:c,image:a,phoneId:i,cartItem:r,category:d}=e;const{removeFromCart:j,cartAmount:u}=Object(s.useContext)(l);return Object(o.jsxs)("li",{className:"cart-item",children:[Object(o.jsx)("button",{type:"button",onClick:()=>{return e=r.id,void j(e);var e},className:"cart-item--button-delete","aria-label":"delete",children:Object(o.jsx)("div",{className:"cart-item--button-delete-image"})}),Object(o.jsxs)(n.b,{to:"/".concat(d,"/").concat(i),className:"cart-item__link",children:[Object(o.jsx)("div",{className:"cart-item__link--item",children:Object(o.jsx)("img",{src:"".concat(ee).concat(a),alt:a,className:"cart-item__link--image"})}),Object(o.jsx)("div",{className:"cart-item__link--name",children:t})]}),Object(o.jsxs)("div",{className:"cart-item__amount",children:[Object(o.jsxs)("div",{className:"cart-item__quantity-container",children:[Object(o.jsx)("button",{type:"button","aria-label":"decrease",disabled:1===r.quantity,onClick:()=>{return e=r.id,void u(e,Ve.Decrease);var e},className:N()("cart-item__amount--button","cart-item__amount--button-decrease",{"cart-item__amount--button-decrease-disabled":1===r.quantity}),children:Object(o.jsx)("div",{className:N()("cart-item__amount--button-image","cart-item__amount--button-image-minus",{"cart-item__amount--button-image-minus-disabled":1===r.quantity})})}),Object(o.jsx)("div",{className:"cart-item--quantity",children:r.quantity}),Object(o.jsx)("button",{type:"button","aria-label":"increase",className:" cart-item__amount--button cart-item__amount--button-increase",onClick:()=>{return e=r.id,void u(e,Ve.Increase);var e},children:Object(o.jsx)("div",{className:" cart-item__amount--button-image cart-item__amount--button-image-plus"})})]}),Object(o.jsx)("h2",{className:"cart-item--price",children:"$".concat(c*r.quantity)})]})]})};c(91);const Ue=()=>{const{cart:e}=Object(s.useContext)(l);return Object(o.jsx)("ul",{className:"cart-items-list",children:e.map((e=>{const{name:t,image:c,price:s,phoneId:a,category:i}=e.product;return Object(o.jsx)($e,{name:t,image:c,price:s,phoneId:a,category:i,cartItem:e},e.id)}))})};c(92);const He=()=>{const[e,t]=Object(s.useState)(!1),{cart:c}=Object(s.useContext)(l),a=c.reduce(((e,t)=>t.quantity+e),0);return Object(o.jsx)(T.a.div,{className:"cart-info",initial:"exit",animate:e?"enter":"exit",variants:{enter:{height:"278px",transition:{duration:.3,animationTimingFunction:"ease-in-out"}},exit:{height:"142px",transition:{duration:.6,animationTimingFunction:"ease-in-out"}}},children:Object(o.jsxs)("div",{className:"cart-info__content",children:[Object(o.jsxs)("div",{className:"cart-info__total-price",children:[Object(o.jsx)("h1",{children:"$".concat((i=c,i.reduce(((e,t)=>t.product.price*t.quantity+e),0)))}),Object(o.jsx)("div",{className:"cart-info__total-price--quantity",children:"\n              Total for\n              ".concat(a,"\n              ").concat(a<=1?"item":"items","\n            ")}),Object(o.jsx)("div",{className:"cart-info__bottom",children:Object(o.jsx)(T.a.button,{type:"button",className:"cart-info--button",onClick:()=>{t(!0),setTimeout((()=>{t(!1)}),3e3)},children:"Checkout"})})]}),Object(o.jsx)(T.a.h2,{className:"cart-info--checkout-text",initial:"exit",animate:e?"enter":"exit",variants:{enter:{opacity:1,transition:{delay:.3,duration:.3,animationTimingFunction:"ease-in-out"},display:"block"},exit:{opacity:0,transition:{duration:.2,animationTimingFunction:"ease-in-out"},transitionEnd:{display:"none"}}},children:"Sorry, but this feature isn't inplement yet"})]})});var i};c(93);const Je=()=>{const{cart:e}=Object(s.useContext)(l);return Object(o.jsxs)(T.a.section,{className:"cart-page container",...ue,children:[Object(o.jsx)("div",{className:"cart-page--back-button",children:Object(o.jsx)(De,{})}),Object(o.jsx)("h1",{children:"Cart"}),Object(o.jsx)("div",{className:"cart-page__content",children:e.length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"cart-page__list",children:Object(o.jsx)(Ue,{})}),Object(o.jsx)(He,{})]}):Object(o.jsx)("h2",{children:"Your cart is empty"})})]})};c(94);const ze=()=>{const{favorites:e}=Object(s.useContext)(j),[t]=Object(n.d)(),c=t.get("query")||"",[a,i]=Object(s.useState)(c);Object(s.useEffect)((()=>{const e=setTimeout((()=>{i(c)}),500);return()=>clearTimeout(e)}),[c]);const r=Object(s.useMemo)((()=>ge(e,c)),[a,e]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("ul",{className:"favorites-list",children:r.map((e=>Object(o.jsx)("li",{className:"favorites-list--item",children:Object(o.jsx)(ce,{product:e})},e.itemId)))}),!r.length&&Object(o.jsx)("h1",{children:"No search results"})]})};c(95);const Ge=()=>{const{favorites:e}=Object(s.useContext)(j),t=e.length;return Object(o.jsxs)(T.a.section,{className:"favorites container",...ue,children:[Object(o.jsx)("div",{className:"favorites__history-location",children:Object(o.jsx)(xe,{})}),Object(o.jsx)("h1",{children:"Favorites"}),Object(o.jsx)("div",{className:"favorites--count",children:"".concat(t," ").concat(t<=1?"item":"items")}),Object(o.jsx)(ze,{})]})};var Xe=()=>Object(o.jsx)(m.a,{exitBeforeEnter:!0,children:Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)(D,{}),Object(o.jsx)("section",{className:"app__section",children:Object(o.jsx)("div",{className:"app__content",children:Object(o.jsxs)(b.d,{children:[Object(o.jsx)(b.b,{path:"/",element:Object(o.jsx)(be,{})}),Object(o.jsx)(b.b,{path:"home",element:Object(o.jsx)(b.a,{to:"/",replace:!0})}),Object(o.jsxs)(b.b,{path:"phones",children:[Object(o.jsx)(b.b,{index:!0,element:Object(o.jsx)(Te,{})}),Object(o.jsx)(b.b,{path:":productId",element:Object(o.jsx)(Re,{})})]}),Object(o.jsxs)(b.b,{path:"tablets",children:[Object(o.jsx)(b.b,{index:!0,element:Object(o.jsx)(Ae,{})}),Object(o.jsx)(b.b,{path:":productId",element:Object(o.jsx)(Re,{})})]}),Object(o.jsxs)(b.b,{path:"accessories",children:[Object(o.jsx)(b.b,{index:!0,element:Object(o.jsx)(Ie,{})}),Object(o.jsx)(b.b,{path:":productId",element:Object(o.jsx)(Re,{})})]}),Object(o.jsx)(b.b,{path:"favorites",element:Object(o.jsx)(Ge,{})}),Object(o.jsx)(b.b,{path:"cart",element:Object(o.jsx)(Je,{})}),Object(o.jsx)(b.b,{path:"*",element:Object(o.jsx)(Be,{})})]})})}),Object(o.jsx)("div",{className:"app__footer",children:Object(o.jsx)(pe,{})})]})});c(96);i.a.render(Object(o.jsx)(n.a,{children:Object(o.jsx)(d,{children:Object(o.jsx)(u,{children:Object(o.jsx)(x,{children:Object(o.jsx)(Xe,{})})})})}),document.getElementById("root"))}]),[[97,1,2]]]);
//# sourceMappingURL=main.61f3d37c.chunk.js.map